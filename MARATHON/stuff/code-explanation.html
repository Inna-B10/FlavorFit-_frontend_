<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlavorFit Backend - –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–¥–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: white;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .intro {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .intro h2 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .intro p {
            line-height: 1.8;
            font-size: 1.1em;
            margin-bottom: 10px;
        }

        .section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }

        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .section h3 {
            color: #764ba2;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .analogy {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 5px solid #ff6b6b;
        }

        .analogy h4 {
            color: #c92a2a;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            line-height: 1.6;
        }

        .code-block .keyword {
            color: #ff79c6;
        }

        .code-block .function {
            color: #50fa7b;
        }

        .code-block .string {
            color: #f1fa8c;
        }

        .code-block .comment {
            color: #6272a4;
            font-style: italic;
        }

        .flow-diagram {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .flow-step {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #667eea;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .flow-step strong {
            color: #667eea;
            display: block;
            margin-bottom: 5px;
        }

        .highlight {
            background: #fff3bf;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
        }

        .emoji {
            font-size: 1.5em;
            margin-right: 10px;
        }

        ul {
            margin-left: 20px;
            line-height: 1.8;
        }

        li {
            margin: 10px 0;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .card {
            background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .card h4 {
            color: #4c1d95;
            margin-bottom: 10px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section {
            animation: fadeIn 0.6s ease-out;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üçΩÔ∏è FlavorFit Backend - –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–¥–∞</h1>

        <div class="intro">
            <h2>üìö –û–±—â–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è</h2>
            <p><strong>–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ - —ç—Ç–æ —ç–ª–∏—Ç–Ω—ã–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω:</strong></p>
            <p>üè¢ <strong>Auth (–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)</strong> - —ç—Ç–æ –æ—Ö—Ä–∞–Ω–∞ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–∞ –≤—Ö–æ–¥–µ</p>
            <p>üë• <strong>Users (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)</strong> - —ç—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤</p>
            <p>‚öôÔ∏è <strong>Config (–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)</strong> - —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</p>
        </div>

        <!-- AUTH MODULE -->
        <div class="section">
            <h2><span class="emoji">üîê</span>Auth Module - –ú–æ–¥—É–ª—å –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏</h2>
            
            <div class="analogy">
                <h4>üè¢ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä:</h4>
                <p>–≠—Ç–æ –∫–∞–∫ <strong>–æ—Ö—Ä–∞–Ω–∞ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–∞ –≤—Ö–æ–¥–µ –≤ —ç–ª–∏—Ç–Ω—ã–π –∫–ª—É–±</strong>. –û–Ω–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç, –∫—Ç–æ –≤—ã, –≤—ã–¥–∞—é—Ç –≤–∞–º –ø—Ä–æ–ø—É—Å–∫ (—Ç–æ–∫–µ–Ω) –∏ —Å–ª–µ–¥—è—Ç, —á—Ç–æ–±—ã –≤–Ω—É—Ç—Ä—å –Ω–µ –ø—Ä–æ—à–ª–∏ –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ.</p>
            </div>

            <h3>üìÅ auth.module.ts - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ö—Ä–∞–Ω—ã</h3>
            <p>–≠—Ç–æ—Ç —Ñ–∞–π–ª –≥–æ–≤–æ—Ä–∏—Ç: "–ö–∞–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –Ω—É–∂–Ω—ã –æ—Ö—Ä–∞–Ω–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã?"</p>
            <div class="code-block">
<span class="comment">// –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–æ–¥—É–ª–∏</span>
<span class="keyword">imports:</span> [
  PrismaModule,        <span class="comment">// –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–∫–∞—Ä—Ç–∫–∞—Ä—Ç–æ—Ç–µ–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤)</span>
  PassportModule,      <span class="comment">// –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</span>
  JwtModule,           <span class="comment">// –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø—Ä–æ–ø—É—Å–∫–æ–≤ (—Ç–æ–∫–µ–Ω–æ–≤)</span>
  UsersModule          <span class="comment">// –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–ª–∏–µ–Ω—Ç–∞—Ö</span>
]
            </div>

            <h3>üõ†Ô∏è auth.service.ts - –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –æ—Ö—Ä–∞–Ω—ã</h3>
            <p>–ó–¥–µ—Å—å –æ–ø–∏—Å–∞–Ω—ã –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å –æ—Ö—Ä–∞–Ω–∞:</p>

            <div class="flow-diagram">
                <h4>1Ô∏è‚É£ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (register)</h4>
                <div class="flow-step">
                    <strong>–®–∞–≥ 1:</strong> –ö–ª–∏–µ–Ω—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –∏ –≥–æ–≤–æ—Ä–∏—Ç: "–•–æ—á—É —Å—Ç–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º"
                </div>
                <div class="flow-step">
                    <strong>–®–∞–≥ 2:</strong> –û—Ö—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç: "–ê –≤—ã —É–∂–µ –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã?"
                </div>
                <div class="flow-step">
                    <strong>–®–∞–≥ 3:</strong> –ï—Å–ª–∏ –Ω–µ—Ç - —Å–æ–∑–¥–∞—é—Ç –∫–∞—Ä—Ç–æ—á–∫—É –∫–ª–∏–µ–Ω—Ç–∞, —à–∏—Ñ—Ä—É—é—Ç –ø–∞—Ä–æ–ª—å (hash)
                </div>
                <div class="flow-step">
                    <strong>–®–∞–≥ 4:</strong> –í—ã–¥–∞—é—Ç –¥–≤–∞ –ø—Ä–æ–ø—É—Å–∫–∞: <span class="highlight">accessToken</span> (–Ω–∞ 1 —á–∞—Å) –∏ <span class="highlight">refreshToken</span> (–Ω–∞ 3 –¥–Ω—è)
                </div>
            </div>

            <div class="code-block">
<span class="keyword">async</span> <span class="function">register</span>(input: AuthInput) {
  <span class="comment">// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —É–∂–µ —Ç–∞–∫–æ–π email</span>
  <span class="keyword">const</span> existingUser = <span class="keyword">await</span> <span class="keyword">this</span>.prisma.user.findFirst({...});
  
  <span class="keyword">if</span> (existingUser) {
    <span class="keyword">throw new</span> Error(<span class="string">'User already exists'</span>);
  }
  
  <span class="comment">// –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º</span>
  <span class="keyword">const</span> user = <span class="keyword">await</span> <span class="keyword">this</span>.prisma.user.create({
    data: {
      email,
      password: <span class="keyword">await</span> <span class="function">hash</span>(input.password), <span class="comment">// –®–∏—Ñ—Ä—É–µ–º –ø–∞—Ä–æ–ª—å!</span>
    },
  });
  
  <span class="comment">// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç–æ–∫–µ–Ω—ã (–ø—Ä–æ–ø—É—Å–∫–∏)</span>
  <span class="keyword">const</span> tokens = <span class="keyword">this</span>.<span class="function">generateTokens</span>({ id, role });
  <span class="keyword">return</span> { user, ...tokens };
}
            </div>

            <div class="flow-diagram">
                <h4>2Ô∏è‚É£ –í—Ö–æ–¥ (login)</h4>
                <div class="flow-step">
                    <strong>–®–∞–≥ 1:</strong> –ö–ª–∏–µ–Ω—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç email + –ø–∞—Ä–æ–ª—å
                </div>
                <div class="flow-step">
                    <strong>–®–∞–≥ 2:</strong> –û—Ö—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤ –±–∞–∑–µ: "–ï—Å—Ç—å –ª–∏ —Ç–∞–∫–æ–π –∫–ª–∏–µ–Ω—Ç?"
                </div>
                <div class="flow-step">
                    <strong>–®–∞–≥ 3:</strong> –ü—Ä–æ–≤–µ—Ä—è—é—Ç –ø–∞—Ä–æ–ª—å (verify) - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–∏?
                </div>
                <div class="flow-step">
                    <strong>–®–∞–≥ 4:</strong> –ï—Å–ª–∏ –≤—Å—ë –û–ö - –≤—ã–¥–∞—é—Ç –Ω–æ–≤—ã–µ –ø—Ä–æ–ø—É—Å–∫–∞ (—Ç–æ–∫–µ–Ω—ã)
                </div>
            </div>

            <div class="flow-diagram">
                <h4>3Ô∏è‚É£ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ (getNewTokens)</h4>
                <div class="flow-step">
                    <strong>–ê–Ω–∞–ª–æ–≥–∏—è:</strong> –í–∞—à —á–∞—Å–æ–≤–æ–π –ø—Ä–æ–ø—É—Å–∫ –∏—Å—Ç—ë–∫, –Ω–æ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç (refreshToken). –í—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç –∏ –ø–æ–ª—É—á–∞–µ—Ç–µ –Ω–æ–≤—ã–π —á–∞—Å–æ–≤–æ–π –ø—Ä–æ–ø—É—Å–∫.
                </div>
            </div>

            <div class="code-block">
<span class="keyword">private</span> <span class="function">generateTokens</span>(data: IAuthTokenData) {
  <span class="comment">// accessToken - –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–π –ø—Ä–æ–ø—É—Å–∫ (1 —á–∞—Å)</span>
  <span class="keyword">const</span> accessToken = <span class="keyword">this</span>.jwt.<span class="function">sign</span>(data, {
    expiresIn: <span class="string">'1h'</span>,
  });

  <span class="comment">// refreshToken - –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç (3 –¥–Ω—è)</span>
  <span class="keyword">const</span> refreshToken = <span class="keyword">this</span>.jwt.<span class="function">sign</span>(
    { id: data.id },
    { expiresIn: <span class="string">'3d'</span> }
  );

  <span class="keyword">return</span> { accessToken, refreshToken };
}
            </div>

            <h3>üéØ auth.resolver.ts - –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞ (API)</h3>
            <p>–≠—Ç–æ –∫–∞–∫ <strong>–æ–∫–æ—à–∫–∏ –Ω–∞ —Ä–µ—Å–µ–ø—à–µ–Ω–µ</strong>, –≥–¥–µ –∫–ª–∏–µ–Ω—Ç—ã –º–æ–≥—É—Ç –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è:</p>

            <div class="grid">
                <div class="card">
                    <h4>üìù –û–∫–æ—à–∫–æ "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è"</h4>
                    <p><strong>Mutation: register</strong></p>
                    <p>–ü—Ä–∏–Ω–∏–º–∞–µ—Ç email –∏ –ø–∞—Ä–æ–ª—å, —Å–æ–∑–¥–∞—ë—Ç –∞–∫–∫–∞—É–Ω—Ç, –≤—ã–¥–∞—ë—Ç —Ç–æ–∫–µ–Ω—ã</p>
                </div>
                <div class="card">
                    <h4>üîë –û–∫–æ—à–∫–æ "–í—Ö–æ–¥"</h4>
                    <p><strong>Mutation: login</strong></p>
                    <p>–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–∞–Ω–Ω—ã–µ, –≤—ã–¥–∞—ë—Ç —Ç–æ–∫–µ–Ω—ã</p>
                </div>
                <div class="card">
                    <h4>üîÑ –û–∫–æ—à–∫–æ "–û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–ø—É—Å–∫"</h4>
                    <p><strong>Query: newTokens</strong></p>
                    <p>–û–±–º–µ–Ω–∏–≤–∞–µ—Ç —Å—Ç–∞—Ä—ã–π refreshToken –Ω–∞ –Ω–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã</p>
                </div>
                <div class="card">
                    <h4>üö™ –û–∫–æ—à–∫–æ "–í—ã—Ö–æ–¥"</h4>
                    <p><strong>Mutation: logout</strong></p>
                    <p>–ê–Ω–Ω—É–ª–∏—Ä—É–µ—Ç –ø—Ä–æ–ø—É—Å–∫ (—É–¥–∞–ª—è–µ—Ç cookie)</p>
                </div>
            </div>
        </div>

        <!-- USERS MODULE -->
        <div class="section">
            <h2><span class="emoji">üë•</span>Users Module - –ú–æ–¥—É–ª—å –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h2>
            
            <div class="analogy">
                <h4>üìã –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä:</h4>
                <p>–≠—Ç–æ –∫–∞–∫ <strong>–∫–∞—Ä—Ç–æ—Ç–µ–∫–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</strong>. –ó–¥–µ—Å—å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: –∏–º—è, email, –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –≤ –µ–¥–µ, –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ç–µ–ª–∞ –∏ —Ç.–¥.</p>
            </div>

            <h3>üóÑÔ∏è users.service.ts - –†–∞–±–æ—Ç–∞ —Å –∫–∞—Ä—Ç–æ—Ç–µ–∫–æ–π</h3>
            
            <div class="code-block">
<span class="comment">// –ù–∞–π—Ç–∏ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤</span>
<span class="keyword">async</span> <span class="function">findAll</span>() {
  <span class="keyword">return this</span>.prisma.user.<span class="function">findMany</span>();
}

<span class="comment">// –ù–∞–π—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ ID (–∫–∞–∫ –ø–æ –Ω–æ–º–µ—Ä—É –∫–∞—Ä—Ç–æ—á–∫–∏)</span>
<span class="keyword">async</span> <span class="function">findById</span>(id: string) {
  <span class="keyword">return this</span>.prisma.user.<span class="function">findUnique</span>({
    where: { id },
    include: {
      measurements: <span class="keyword">true</span>,  <span class="comment">// –í–∫–ª—é—á–∏—Ç—å –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ç–µ–ª–∞</span>
      profile: <span class="keyword">true</span>,        <span class="comment">// –í–∫–ª—é—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</span>
    },
  });
}

<span class="comment">// –ù–∞–π—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ email (–ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏)</span>
<span class="keyword">async</span> <span class="function">findByEmail</span>(email: string) {
  <span class="keyword">return this</span>.prisma.user.<span class="function">findFirst</span>({
    where: {
      email: {
        equals: email,
        mode: <span class="string">'insensitive'</span>, <span class="comment">// –ù–µ –≤–∞–∂–µ–Ω —Ä–µ–≥–∏—Å—Ç—Ä –±—É–∫–≤</span>
      },
    },
  });
}
            </div>

            <div class="analogy">
                <h4>üîç –ß—Ç–æ —Ç–∞–∫–æ–µ "include"?</h4>
                <p>–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –∫–ª–∏–µ–Ω—Ç–∞ –µ—Å—Ç—å –æ—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ (user), –Ω–æ —Ç–∞–∫–∂–µ –µ—Å—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞–ø–∫–∏:</p>
                <ul>
                    <li><strong>measurements</strong> - –ø–∞–ø–∫–∞ —Å –∏–∑–º–µ—Ä–µ–Ω–∏—è–º–∏ (–≤–µ—Å, —Ä–æ—Å—Ç, –æ–±—ä—ë–º—ã)</li>
                    <li><strong>profile</strong> - –ø–∞–ø–∫–∞ —Å –ª–∏—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π (–∏–º—è, —Ñ–æ—Ç–æ, –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è)</li>
                </ul>
                <p>–ö–æ–≥–¥–∞ –≤—ã –ø–∏—à–µ—Ç–µ <span class="highlight">include: { measurements: true }</span>, –≤—ã –≥–æ–≤–æ—Ä–∏—Ç–µ: "–î–∞–π –º–Ω–µ –Ω–µ —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—É—é –∫–∞—Ä—Ç–æ—á–∫—É, –Ω–æ –∏ –≤—Å–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞–ø–∫–∏!"</p>
            </div>

            <h3>üì¶ users.module.ts - –£–ø–∞–∫–æ–≤–∫–∞ –º–æ–¥—É–ª—è</h3>
            <div class="code-block">
<span class="keyword">@Module</span>({
  imports: [PrismaModule],           <span class="comment">// –ü–æ–¥–∫–ª—é—á–∞–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö</span>
  providers: [UsersResolver, UsersService],
  exports: [UsersService],           <span class="comment">// –î–µ–ª–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π</span>
})
            </div>
            <p>–≠—Ç–æ –∫–∞–∫ —Å–∫–∞–∑–∞—Ç—å: "–ù–∞—à–∞ –∫–∞—Ä—Ç–æ—Ç–µ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö Prisma, –∏ –¥—Ä—É–≥–∏–µ –æ—Ç–¥–µ–ª—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, Auth) –º–æ–≥—É—Ç –∫ –Ω–µ–π –æ–±—Ä–∞—â–∞—Ç—å—Å—è"</p>
        </div>

        <!-- CONFIG MODULE -->
        <div class="section">
            <h2><span class="emoji">‚öôÔ∏è</span>Config Module - –ú–æ–¥—É–ª—å –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</h2>
            
            <div class="analogy">
                <h4>üìú –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä:</h4>
                <p>–≠—Ç–æ –∫–∞–∫ <strong>–ø—Ä–∞–≤–∏–ª–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–±–æ—Ç—ã —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</strong>: –≤–æ —Å–∫–æ–ª—å–∫–æ –æ—Ç–∫—Ä—ã–≤–∞–µ–º—Å—è, –∫–∞–∫–æ–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥ —É —Å–µ–π—Ñ–∞, –≤ –∫–∞–∫–æ–º —Ä–µ–∂–∏–º–µ —Ä–∞–±–æ—Ç–∞–µ–º (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–ª–∏ –ø—Ä–æ–¥–∞–∫—à–Ω).</p>
            </div>

            <h3>üîê jwt.config.ts - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–ø—É—Å–∫–æ–≤</h3>
            <div class="code-block">
<span class="keyword">export const</span> <span class="function">getJwtConfig</span> = (configService: ConfigService) => ({
  secret: configService.<span class="function">get</span>(<span class="string">'JWT_SECRET'</span>),
});
            </div>
            <div class="analogy">
                <h4>üîë –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç?</h4>
                <p>JWT_SECRET - —ç—Ç–æ –∫–∞–∫ <strong>—Å–µ–∫—Ä–µ—Ç–Ω–∞—è –ø–µ—á–∞—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</strong>. –ö–æ–≥–¥–∞ –æ—Ö—Ä–∞–Ω–∞ –≤—ã–¥–∞—ë—Ç –≤–∞–º –ø—Ä–æ–ø—É—Å–∫ (—Ç–æ–∫–µ–Ω), –æ–Ω–∏ —Å—Ç–∞–≤—è—Ç –Ω–∞ –Ω–µ–≥–æ —ç—Ç—É –ø–µ—á–∞—Ç—å. –ü–æ—Ç–æ–º, –∫–æ–≥–¥–∞ –≤—ã –ø—Ä–∏—Ö–æ–¥–∏—Ç–µ —Å–Ω–æ–≤–∞, –æ–Ω–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –ø–µ—á–∞—Ç—å - –Ω–∞—Å—Ç–æ—è—â–∞—è –ª–∏ –æ–Ω–∞.</p>
                <p>–ë–µ–∑ –∑–Ω–∞–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–∞ –Ω–∏–∫—Ç–æ –Ω–µ —Å–º–æ–∂–µ—Ç –ø–æ–¥–¥–µ–ª–∞—Ç—å –ø—Ä–æ–ø—É—Å–∫!</p>
            </div>

            <h3>üé® graphql.config.ts - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ GraphQL</h3>
            <div class="code-block">
<span class="keyword">export const</span> <span class="function">getGraphQLConfig</span> = (configService: ConfigService) => ({
  autoSchemaFile: <span class="keyword">true</span>,      <span class="comment">// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å—Ö–µ–º—É</span>
  sortSchema: <span class="keyword">true</span>,          <span class="comment">// –°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏</span>
  playground: MODE === <span class="string">'development'</span>, <span class="comment">// –ü–µ—Å–æ—á–Ω–∏—Ü–∞ —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</span>
  context: ({ req, res }) => ({ req, res }), <span class="comment">// –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç</span>
});
            </div>
            <div class="analogy">
                <h4>üéÆ –ß—Ç–æ —Ç–∞–∫–æ–µ playground?</h4>
                <p>–≠—Ç–æ –∫–∞–∫ <strong>—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–∞—è –∑–æ–Ω–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</strong>. –í —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–π—Ç–∏ –≤ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–æ–∏–≥—Ä–∞—Ç—å—Å—è —Å API, –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏ —Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–≤–µ—Ç—ã. –í –ø—Ä–æ–¥–∞–∫—à–Ω–µ (–∫–æ–≥–¥–∞ —Ä–µ—Å—Ç–æ—Ä–∞–Ω –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤) —ç—Ç–∞ –∑–æ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∞.</p>
            </div>
        </div>

        <!-- FLOW SUMMARY -->
        <div class="section">
            <h2><span class="emoji">üîÑ</span>–ö–∞–∫ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ?</h2>
            
            <div class="flow-diagram">
                <h4>–°—Ü–µ–Ω–∞—Ä–∏–π: –ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è</h4>
                
                <div class="flow-step">
                    <strong>1. –ö–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å:</strong>
                    <code>mutation { register(email: "user@example.com", password: "123456") }</code>
                </div>
                
                <div class="flow-step">
                    <strong>2. AuthResolver –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å:</strong>
                    "–ê–≥–∞, –∫—Ç–æ-—Ç–æ —Ö–æ—á–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è!"
                </div>
                
                <div class="flow-step">
                    <strong>3. AuthResolver –≤—ã–∑—ã–≤–∞–µ—Ç AuthService:</strong>
                    "–°–ª—É–∂–±–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –æ–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é!"
                </div>
                
                <div class="flow-step">
                    <strong>4. AuthService –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —á–µ—Ä–µ–∑ UsersService:</strong>
                    "–ö–∞—Ä—Ç–æ—Ç–µ–∫–∞, –µ—Å—Ç—å –ª–∏ —É–∂–µ —Ç–∞–∫–æ–π email?"
                </div>
                
                <div class="flow-step">
                    <strong>5. UsersService —Å–º–æ—Ç—Ä–∏—Ç –≤ –±–∞–∑—É (Prisma):</strong>
                    "–ù–µ—Ç, —Ç–∞–∫–æ–≥–æ email –Ω–µ—Ç"
                </div>
                
                <div class="flow-step">
                    <strong>6. AuthService —Å–æ–∑–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</strong>
                    - –®–∏—Ñ—Ä—É–µ—Ç –ø–∞—Ä–æ–ª—å (argon2)
                    - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –±–∞–∑—É
                    - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–æ–∫–µ–Ω—ã (–∏—Å–ø–æ–ª—å–∑—É—è JWT_SECRET –∏–∑ config)
                </div>
                
                <div class="flow-step">
                    <strong>7. AuthResolver –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç:</strong>
                    - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
                    - accessToken (–≤ –æ—Ç–≤–µ—Ç–µ)
                    - refreshToken (–≤ cookie)
                </div>
                
                <div class="flow-step">
                    <strong>8. –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç:</strong>
                    –¢–µ–ø–µ—Ä—å —É –Ω–µ–≥–æ –µ—Å—Ç—å –ø—Ä–æ–ø—É—Å–∫ (—Ç–æ–∫–µ–Ω), –∏ –æ–Ω –º–æ–∂–µ—Ç –∑–∞—Ö–æ–¥–∏—Ç—å –≤ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!
                </div>
            </div>
        </div>

        <!-- KEY CONCEPTS -->
        <div class="section">
            <h2><span class="emoji">üí°</span>–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</h2>
            
            <div class="grid">
                <div class="card">
                    <h4>üîê –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (hash)</h4>
                    <p>–ü–∞—Ä–æ–ª—å "123456" –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –Ω–µ—á–∏—Ç–∞–µ–º—É—é —Å—Ç—Ä–æ–∫—É. –≠—Ç–æ –∫–∞–∫ –º—è—Å–æ—Ä—É–±–∫–∞ - –æ–±—Ä–∞—Ç–Ω–æ –Ω–µ —Å–æ–±—Ä–∞—Ç—å!</p>
                </div>
                
                <div class="card">
                    <h4>‚úÖ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è (verify)</h4>
                    <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è: –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –≤–≤–µ–¥—ë–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å —á–µ—Ä–µ–∑ —Ç—É –∂–µ "–º—è—Å–æ—Ä—É–±–∫—É" –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</p>
                </div>
                
                <div class="card">
                    <h4>üé´ Access Token</h4>
                    <p>–ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–π –ø—Ä–æ–ø—É—Å–∫ (1 —á–∞—Å). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∫ API</p>
                </div>
                
                <div class="card">
                    <h4>üéüÔ∏è Refresh Token</h4>
                    <p>–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç (3 –¥–Ω—è). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö access —Ç–æ–∫–µ–Ω–æ–≤</p>
                </div>
                
                <div class="card">
                    <h4>üç™ Cookie</h4>
                    <p>–ë—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç refreshToken –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ —Å –∫–∞–∂–¥—ã–º –∑–∞–ø—Ä–æ—Å–æ–º</p>
                </div>
                
                <div class="card">
                    <h4>üîí httpOnly</h4>
                    <p>Cookie —Å —ç—Ç–∏–º —Ñ–ª–∞–≥–æ–º –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ JavaScript - –∑–∞—â–∏—Ç–∞ –æ—Ç –≤–∑–ª–æ–º–∞!</p>
                </div>
            </div>
        </div>

        <!-- SECURITY -->
        <div class="section">
            <h2><span class="emoji">üõ°Ô∏è</span>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h2>
            
            <div class="analogy">
                <h4>–ü–æ—á–µ–º—É –¥–≤–∞ —Ç–æ–∫–µ–Ω–∞?</h4>
                <p><strong>Access Token (1 —á–∞—Å):</strong> –í—ã –Ω–æ—Å–∏—Ç–µ –µ–≥–æ —Å —Å–æ–±–æ–π –ø–æ—Å—Ç–æ—è–Ω–Ω–æ. –ï—Å–ª–∏ –µ–≥–æ —É–∫—Ä–∞–¥—É—Ç, –æ–Ω –±—ã—Å—Ç—Ä–æ –∏—Å—Ç–µ—á—ë—Ç.</p>
                <p><strong>Refresh Token (3 –¥–Ω—è):</strong> –•—Ä–∞–Ω–∏—Ç—Å—è –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ (httpOnly cookie). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–¥–∫–æ, —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è access token.</p>
                <p>–≠—Ç–æ –∫–∞–∫ –Ω–æ—Å–∏—Ç—å —Å —Å–æ–±–æ–π –Ω–µ–º–Ω–æ–≥–æ –Ω–∞–ª–∏—á–Ω—ã—Ö (access token), –∞ –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–µ–Ω—å–≥–∏ –¥–µ—Ä–∂–∞—Ç—å –≤ —Å–µ–π—Ñ–µ –¥–æ–º–∞ (refresh token).</p>
            </div>

            <ul>
                <li>‚úÖ –ü–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è (argon2) - –Ω–∏–∫—Ç–æ –Ω–µ –≤–∏–¥–∏—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª</li>
                <li>‚úÖ –¢–æ–∫–µ–Ω—ã –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å–µ–∫—Ä–µ—Ç–Ω—ã–º –∫–ª—é—á–æ–º (JWT_SECRET)</li>
                <li>‚úÖ RefreshToken –≤ httpOnly cookie - JavaScript –Ω–µ –º–æ–∂–µ—Ç –µ–≥–æ —É–∫—Ä–∞—Å—Ç—å</li>
                <li>‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ email –±–µ–∑ —É—á—ë—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞ (mode: 'insensitive')</li>
                <li>‚úÖ –ö–æ—Ä–æ—Ç–∫–∏–π —Å—Ä–æ–∫ –∂–∏–∑–Ω–∏ access token (1 —á–∞—Å)</li>
            </ul>
        </div>

        <div class="intro" style="margin-top: 30px;">
            <h2>üéì –†–µ–∑—é–º–µ</h2>
            <p><strong>Auth</strong> - –æ—Ö—Ä–∞–Ω–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–∏—á–Ω–æ—Å—Ç—å –∏ –≤—ã–¥–∞—ë—Ç –ø—Ä–æ–ø—É—Å–∫–∞</p>
            <p><strong>Users</strong> - –∫–∞—Ä—Ç–æ—Ç–µ–∫–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–ª–∏–µ–Ω—Ç–∞—Ö</p>
            <p><strong>Config</strong> - –ø—Ä–∞–≤–∏–ª–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</p>
            <p style="margin-top: 20px; font-size: 1.2em; color: #667eea;">
                <strong>–í—Å—ë –≤–º–µ—Å—Ç–µ —Å–æ–∑–¥–∞—ë—Ç –±–µ–∑–æ–ø–∞—Å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –≤—Ö–æ–¥–∞ –≤ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ FlavorFit! üéâ</strong>
            </p>
        </div>
    </div>
</body>
</html>
